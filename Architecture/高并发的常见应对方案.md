# 高并发的常见应对方案

> 高并发就是在同一时刻，有很多请求同时访问。



### 在在高发场景下，一般比较关系的几个指标：

- QPS：每秒钟查询量，广义的，通常指指每秒请求数

- 响应时间：从请求发出到收到响应花费的时间，例如：系统处理一个HTTP请求需要100ms，这个100ms就是系统的响应时间

- 带宽：计算带宽大小需关注两个指标，峰值流量和页面的平均大小 

- PV：综合浏览量(Page View)，即页面浏览量或者点击量，通常关注在24小时内访问的页面数量，即“日PV”

- UV：独立访问(UniQue Visitor)，即去重后的访问用户数，通常关注在24小时内访问的用户，即“日UV”



### 常见的优化方案：

1. **数据库缓存【redis等】**
缓存数据是为了让客户端很少甚至不访问数据库，减少磁盘IO，提高并发量，提高应用数据的响应速度

2. **服务器集群化、以及负载均衡**
常用的就是Nginx，它能够自动剔除工作不正常的后端服务器，支持多种分配策略，可以分配权重，分配方式灵活。
内置策略：IP Hash、加权轮询
扩展策略：fair策略、通用hash、一致性hash

3. **CDN 加速**
CDN的全称是Content Delivery Network，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离等综合信息将用户的请求重新导向离用户最近的服务节点上。
CDN的本质是内存缓存，就近访问，它提高了企业站点(尤其含有大量图片和静态页面站点)的访问速度，跨运营商的网络加速，保证不同网络的用户都得到良好的访问质量。
同时，减少远程访问的带宽，分担网络流量，减轻原站点WEB服务器负载。


